import{U as b,V as v,W as p,X as x,Y as c,z as A,K as l,B as C,O as u}from"./CB0-WiRl.js";import{g as U,I as f,s as g}from"./BHNGnbP5.js";import{d as m,c as $}from"./BqJiUTld.js";import"./Dp5-sx5g.js";import{l as h,s as _}from"./CLpNHM6I.js";function k(){const s=U();let t=p(x({username:"",theme:"system"})),a=0,i=p(!0),r=p("");const d=()=>{s.publishDoc([],{lastUpdated:a,settings:l(t)})},n=e=>{c(t,e.settings,!0)};return s.subscribeToDoc([],(e,o)=>{s.isLoading||o===null||(o.lastUpdated===void 0||o.lastUpdated<a?d():o.lastUpdated>a?(c(i,!0),n(o)):o.lastUpdated===a&&console.log("app in sync with user doc"))}),A(()=>{JSON.stringify(l(t)),C(()=>{if(l(i)){c(i,!1);return}a=Date.now(),d()})}),{get authRedirect(){return l(r)},set authRedirect(e){c(r,e,!0)},get settings(){return l(t)},set settings(e){c(t,e,!0)}}}const y=Symbol("App"),z=()=>{const s=k();return b(y,s)},R=()=>v(y);function I(s,t){const a=h(t,["children","$$slots","$$events","$$legacy"]);f(s,_({name:"check-check"},()=>a,{iconNode:[["path",{d:"M18 6 7 17l-5-5"}],["path",{d:"m22 10-7.5 7.5L13 16"}]],children:(r,d)=>{var n=m(),e=u(n);g(e,t,"default",{}),$(r,n)},$$slots:{default:!0}}))}function K(s,t){const a=h(t,["children","$$slots","$$events","$$legacy"]);f(s,_({name:"loader-circle"},()=>a,{iconNode:[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]],children:(r,d)=>{var n=m(),e=u(n);g(e,t,"default",{}),$(r,n)},$$slots:{default:!0}}))}export{I as C,K as L,R as g,z as s};
